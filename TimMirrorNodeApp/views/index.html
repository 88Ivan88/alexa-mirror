<!DOCTYPE html>
<html>

<head>
	<title>
		<%= title %>
	</title>
	<link rel='stylesheet' href='/stylesheets/style.css' />
  <link rel='stylesheet' href='/stylesheets/animate.css' />
  <script type="text/javascript" src="/javascripts/lib/jquery-3.1.1.min.js"></script>
  <script type="text/javascript" src="/javascripts/lib/socket.io-1.4.5.js"></script>
</head>

<body>
  <div class="message-area"></div>
  <div class="dj-container">
        <div class="dj-body">
            <div class="dj-head">
                <div class="dj-eye">
                    <div class="dj-eye-ball eye-move">
                        <div class="dj-eye-hole">
                            <div class="eye-effect1"></div>
                            <div class="eye-effect2"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="left-hand hand-move-left"><div class="left-hand-inner"></div></div>
            <div class="right-hand hand-move-right"><div class="right-hand-inner"></div></div>
        </div>
        <div class="dj-mouth talk">
            <div class="dj-mouth-inner">
                <div class="dj-name">Mirror</div>
            </div>
        </div>
    </div>
</body>
<script>
  var socket = io("localhost:4000");
  var imgUrls = [
      '001.png',
      '002.png',
      '003.jpg',
      '004.jpg',
      '005.jpg',
      '006.jpg',
      '007.jpg',
      '008.jpg',
      '009.jpg',
      '010.jpg',
      '011.jpg',
      '012.jpg',
      '013.jpg',
      '014.jpg',
      '015.jpg',
      '016.jpg',
      '017.jpg',
      '018.jpg',
      '019.jpg',
      '020.jpg',
      '021.jpg',
      '022.jpg',
      '023.jpg',
      '024.jpg',
      '025.jpg',
      '026.jpg',
      '027.jpg',
      '028.jpg',
      '029.jpg',
      '030.jpg'

  ];

  $(".dj-container").hide();
  socket.on('launch', function(data){
    $(".dj-container").show();
  });

  socket.on('showMsg', function(data){
    console.log('message: ' + JSON.stringify(data));
    var html = data.message;
    if (data.message.startsWith('We have four activities')) {
         html = '<h1 class="animated fadeInRightBig">We have four activities.</h1><br/>'
        + '<ol class="animated fadeInRightBig"><li><h1>SLT dialog</h1></li>'
        + '<li><h1>A Normal Day Round Table</h1></li>'
        + '<li><h1>Career Planning Station</h1></li>'
        + '<li><h1>Invest in Yourself workshop</h1></li></ol>'
    } else if (data.message.startsWith('Build Your Brand Feedback')) {
        html = '<h1 class="animated fadeInRightBig">SLT Dialog:</h1><br/>'
        + '<ol class="animated fadeInRightBig"><li><h1>Build Your Brand Feedback is a gift -- Danny</h1></li>'
        + '<li><h1>Future Talent and Digital Talent -- Andy</h1></li>'
        + '<li><h1>Building habits for Career Advancement -- Allan</h1></li>'
        + '<li><h1>Do what needs to be done -- Daniel</h1></li></ol>'
    } else if (data.message.startsWith('System Analyst')) {
        html = '<h1 class="animated fadeInRightBig">A Normal Day Round Table:</h1><br/>'
        + '<ol class="animated fadeInRightBig"><li><h1>System Analyst by Sun Yezi</h1></li>'
        + '<li><h1>Architect by Yang Younky</h1></li>'
        + '<li><h1>Scrum Master by Liu Jenny</h1></li>'
        + '<li><h1>Manager by Run Robert</h1></li></ol>'
    } else if (data.message.startsWith('There are four booth exhibition')) {
        html = '<h1 class="animated fadeInRightBig">Four Booth Exhibition:</h1><br/>'
        + '<ol class="animated fadeInRightBig"><li><h1>myCareer</h1></li>'
        + '<li><h1>I CAN Program (on the spot registration)</h1></li>'
        + '<li><h1>Staffing</h1></li>'
        + '<li><h1>Learning and Resources</h1></li></ol>'
    }

    $(".message-area").html('<h1 class="animated fadeInRightBig">' + html + '</h1>');

    $(".dj-container").show();
  });

  socket.on('showCard', function(data){
    console.log('message: ' + JSON.stringify(data));

    $(".message-area").html('<h1 class="animated fadeInRightBig">' + data.message + '</h1><br/>' + 
    '<img style="width:100%;" src="'+ data.imgUrl + '" />');

    $(".dj-container").show();
  });

  socket.on('showCartoon', function(data){
    console.log('message: ' + JSON.stringify(data));
    var index = Math.floor(Math.random() * imgUrls.length);
    var imgUrl = '/images/cartoon/' + imgUrls[index];
    $(".message-area").html('<h1 class="animated fadeInRightBig">' + data.message + '</h1><br/>' + 
    '<img style="width:100%;" src="'+ imgUrl + '" />');

    $(".dj-container").show();
  });

  

</script>

</html>